{% extends "layouts/main.html" %}

{% block pageTitle %}
  Change personal details – {{ serviceName }} – GOV.UK Prototype Kit
{% endblock %}

{% extends "di-govuk-one-login-service-header/layouts/service-header.html" %}

{% block header %}
  {{ govukOneLoginServiceHeader({
    signOutLink: "../sign-out",
    oneLoginLink: "https://govuk-one-login-prototype-6d2545e2d700.herokuapp.com/page-index/home/account-home",
    serviceNavigationParams: {
      serviceName: "Claim money back from Access to Work",
      serviceUrl: "/index"
    }
  }) }}
{% endblock %}

{% block beforeContent %}

{{ govukPhaseBanner({
  tag: {
    text: "Prototype"
  },
  html: 'This is a prototype. It is not a real service.'
}) }}

 <div class="govuk-back-link-and-translation govuk-width-container">
  {{ govukBackLink({
    text: "Back",
    href: "javascript:window.history.back()"
  }) }}

  <div class="language-switcher">
    <span class="govuk-body-s">English&nbsp;|&nbsp;
    <a href="#" class="govuk-link">Cymraeg</a></span>
  </div>
  
</div>

<style>
  .govuk-back-link-and-translation {
    display: flex;
    align-items: center;
  }
   
  .language-switcher {
    margin-left: auto; /* pushes this link to the far right */
  }
</style>

{% endblock %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds-from-desktop">

      <h1 class="govuk-heading-l">
        Change personal details
      </h1>

      <form action="declaration" method="post" novalidate>

      {% set summaryRows = [] %}

    {% if data['first-name-claim'] %}
      {% set summaryRows = summaryRows.concat([
           {
            key: {
              text: "First name"
            },
            value: {
              text: (data['first-name-claim'])
            },
            actions: {
              items: [
                {
                  href: "change-name#first-name-claim",
                  text: "Change",
                  visuallyHiddenText: "first name"
                }
              ]
            }
          }
    ]) %}

    {% else %}

     {% set summaryRows = summaryRows.concat([
           {
            key: {
              text: "First name"
            },
            value: {
              text: "Joe"
            }
          }
    ]) %}

    {% endif %}

    {% if data['last-name-claim'] %}
      {% set summaryRows = summaryRows.concat([
           {
            key: {
              text: "Last name"
            },
            value: {
              text: (data['last-name-claim'])
            },
            actions: {
              items: [
                {
                  href: "change-name#last-name-claim",
                  text: "Change",
                  visuallyHiddenText: "last name"
                }
              ]
            }
          }
    ]) %}

    {% else %}

     {% set summaryRows = summaryRows.concat([
           {
            key: {
              text: "Last name"
            },
            value: {
              text: "Bloggs"
            }
          }
    ]) %}

    {% endif %}

    {% if data['email-claims'] %}
      {% set summaryRows = summaryRows.concat([
           {
            key: {
              text: "Email address"
            },
            value: {
              text: (data['email-claims'])
            },
            actions: {
              items: [
                {
                  href: "change-email-address#email-claims",
                  text: "Change",
                  visuallyHiddenText: "name"
                }
              ]
            }
          }
    ]) %}

    {% else %}

     {% set summaryRows = summaryRows.concat([
           {
            key: {
              text: "Email address"
            },
            value: {
              text: "joe.bloggs@gmail.com"
            },
            actions: {
              items: [
                {
                  href: "change-email-address#email-claims",
                  text: "Change",
                  visuallyHiddenText: "name"
                }
              ]
            }
          }
    ]) %}

    {% endif %}

     {% if data['your-home-number-claim'] %}
      {% set summaryRows = summaryRows.concat([
           {
            key: {
              text: "Home telephone number"
            },
            value: {
              text: (data['your-home-number-claim'])
            },
            actions: {
              items: [
                {
                  href: "telephone-numbers",
                  text: "Change",
                  visuallyHiddenText: "name"
                }
              ]
            }
          }
    ]) %}

    {% else %}

     {% set summaryRows = summaryRows.concat([
           {
            key: {
              text: "Home telephone number"
            },
            value: {
              text: "Not given"
            },
            actions: {
              items: [
                {
                  href: "telephone-numbers",
                  text: "Add",
                  visuallyHiddenText: "name"
                }
              ]
            }
          }
    ]) %}

    {% endif %}

    {% if data['your-mobile-number-claim'] %}
      {% set summaryRows = summaryRows.concat([
           {
            key: {
              text: "Mobile number"
            },
            value: {
              text: (data['your-mobile-number-claim'])
            },
            actions: {
              items: [
                {
                  href: "telephone-numbers",
                  text: "Change",
                  visuallyHiddenText: "name"
                }
              ]
            }
          }
    ]) %}

    {% else %}

     {% set summaryRows = summaryRows.concat([
           {
            key: {
              text: "Mobile number"
            },
            value: {
              text: "Not given"
            },
            actions: {
              items: [
                {
                  href: "telephone-numbers",
                  text: "Add",
                  visuallyHiddenText: "name"
                }
              ]
            }
          }
    ]) %}

    {% endif %}

    {% if data['address-select-claims'] %}
      {% set summaryRows = summaryRows.concat([
           {
            key: {
              text: "Address"
            },
            value: {
              text: data['address-select-claims'] + data['postcode-claims']
            },
            actions: {
              items: [
                {
                  href: "postcode",
                  text: "Change",
                  visuallyHiddenText: "name"
                }
              ]
            }
          }
    ]) %}

    {% else %}

     {% set summaryRows = summaryRows.concat([
           {
            key: {
              text: "Address"
            },
            value: {
              text: "1 Imaginary Street, London, Greater London, AA1 1BB"
            },
            actions: {
              items: [
                {
                  href: "postcode",
                  text: "Change",
                  visuallyHiddenText: "name"
                }
              ]
            }
          }
    ]) %}

    {% endif %}

    {{ govukSummaryList({ rows: summaryRows }) }}


      {{ govukButton({
        text: "Continue"
      }) }}
          
    </form>

    </div>
  </div>
{% endblock %}
