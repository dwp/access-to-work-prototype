{% extends "layouts/main.html" %}

{% block header %}

{{
        dwpHeader({
            serviceName: "Access to Work",
            serviceHref: '/index',
            action: "Al Ó Catháin",
            actionHref: "#",
            container: true,
            navigation: {
              selectedItem: "../your-cases",
              items: [
                   {
                      href: "../your-cases",
                      text: "Your cases"
                    },
                    {
                      href: "../unallocated/unallocated-main-page",
                      text: "Unallocated"
                    },
                    {
                      href: "../all-advisors",
                      text: "All advisors"
                    },
                    {
                      href: "../search/search",
                      text: "Search"
                    },
                    {
                      href: "../referrals/referrals",
                      text: "Referrals"
                    },
                    {
                      href: "../data-retention/manage-data",
                      text: "Manage data"
                    }
              ]
          }  
        })
}}
{% endblock %}

{% block pageTitle %}
  Your cases – {{ serviceName }}
{% endblock %}

{% block beforeContent %}
{{ govukPhaseBanner({
  tag: {
    text: "Prototype"
  },
  html: 'This is a prototype. It is not a real service.'
}) }}
{% endblock %}

{% block content %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-full">

      {{
        dwpQuickReference({
            ariaLabel: "User information",
            primaryReference: {
                text: 'User name:',
                value: 'Al Ó Catháin'
            },
            secondaryReference: {
                text: 'Your role and permissions:',
                textDisplay: true,
                value: 'Case manager team leader'
            }
        })
}}

      {{ 
      dwpHorizontalNavigation({
            selectedItem: "your-documents",
            items: [
                {
                  text: "Your other cases (2)",
                  href: "../your-cases",
                  id: "your-other-cases"
                },
                {
                  text: "Your priority cases (1)",
                  href: "../priority-cases/your-priority-cases",
                  id: "your-priority-cases"
                },
                {
                  text: "Your CSI cases (3)",
                  href: "../csi/your-csi-cases",
                  id: "your-csi-cases"
                },
                {
                  text: "Your documents (1)",
                  href: "your-documents",
                  id: "your-documents"
                }
            ]
        })
}}

<div class="govuk-tabs__panel">

    <h2 class="govuk-heading-m">Your documents (1)</h2>
    <form action="{{versionPath}}/documents/request-document-post" method="post">
          {{ govukSelect({
            id: "document-type",
            name: "document-type",
            label: {
              text: "Type of document"
            },
            items: [
              {
                value: "any",
                text: "Any"
              },
              {
                value: "priority cases",
                text: "Priority cases"
              },
              {
                value: "CSI cases",
                text: "CSI cases"
              },
              {
                value: "documents",
                text: "Documents"
              },
              {
                value: "no specialist equipment",
                text: "No specialist equipment",
                selected: true
              }
            ]
          }) }}

          {{ govukButton({
            text: "Request a new document"
          }) }}

          </form>

          <table class="govuk-table">
            <caption class="govuk-table__caption govuk-table__caption--m">Document details</caption>
            <thead class="govuk-table__head">
              <tr class="govuk-table__row">
                <th scope="col" class="govuk-table__header">Name </th>
                <th scope="col" class="govuk-table__header">Oldest document</th>
                <th scope="col" class="govuk-table__header">Document types</th>
                <th scope="col" class="govuk-table__header">Status</th>

              </tr>
            </thead>
            <tbody class="govuk-table__body">

              {% for document in documents | sort(false, true, 'oldestDocumentDate') %}
              <tr class="govuk-table__row">
                <td scope="row" class="govuk-table__cell"><a href="../documents/user-document?id={{document.id}}">{{document.name}}</a><br>{{document.documents.length}} document{{'s' if document.documents.length > 1}}</td>

                <td class="govuk-table__cell">{{document.oldestDocumentDate | formatDate}}</td>
                <td class="govuk-table__cell">
                  {% for document in document.documents | uniqueTypes %}
                    {{document.type}} <br>
                  {% endfor %}
                </td>
                <td class="govuk-table__cell">Not started</td>
              </tr>
              {% endfor %}

              
            </tbody>
          </table>


    </div>
  </div>
  </div>

{% endblock %}
