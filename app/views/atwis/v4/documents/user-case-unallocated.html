{% extends "layouts/main.html" %}

{% block header %}

{{
        dwpHeader({
            serviceName: "Access to Work",
            serviceHref: '/index',
            action: "Al Ó Catháin",
            actionHref: "#",
            container: true,
            navigation: {
              selectedItem: "../your-cases",
              items: [
                   {
                      href: "../your-cases",
                      text: "Your cases"
                    },
                    {
                      href: "../unallocated/unallocated-main-page",
                      text: "Unallocated"
                    },
                    {
                      href: "../all-advisors",
                      text: "All advisors"
                    },
                    {
                      href: "../search/search",
                      text: "Search"
                    },
                    {
                      href: "../referrals/referrals",
                      text: "Referrals"
                    },
                    {
                      href: "../data-retention/manage-data",
                      text: "Manage data"
                    }
              ]
          }  
        })
}}
{% endblock %}

{% block pageTitle %}
  Renewal case – {{ serviceName }}
{% endblock %}

{% block beforeContent %}
{{ govukPhaseBanner({
  tag: {
    text: "Prototype"
  },
  html: 'This is a prototype. It is not a real service.'
}) }}

{% import versionPath + "/includes/key-details.njk" as keyDetails %}


{{ keyDetails.keyDetails({
  name: case.name,
  nino: "QQ 12 34 56 Z",
  urn: "123456789"
})}}

{% endblock %}

{% block content %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

      <h2 class="govuk-heading-l">Unallocated documents</h2>



<table class="govuk-table">
  <caption class="govuk-table__caption govuk-table__caption--m">Document details</caption>
  <thead class="govuk-table__head">
    <tr class="govuk-table__row">
      <th scope="col" class="govuk-table__header">Document type</th>
      <th scope="col" class="govuk-table__header">Form reference</th>
      
      <th scope="col" class="govuk-table__header">Date scanned</th>
      <th class="govuk-table__header"></th>
    </tr>
  </thead>
  <tbody class="govuk-table__body">
    {% for document in case.documents  %}
    <tr class="govuk-table__row">
      <th scope="row" class="govuk-table__header">{{document.type}}</th>
      <td class="govuk-table__cell">{{document.formReference}}</td>
      <td class="govuk-table__cell">{{document.dateScanned | formatDate }}</td>
      <td class="govuk-table__cell"><a href = "{{versionPath}}/documents/document?id={{case.id}}&document={{loop.index0}}">view document</a></td>

    </tr>
    {% endfor %}

  </tbody>
</table>

<!--
<h3 class="govuk-heading-m">DRS envelope ID</h3>

<p class="govuk-body">Use the envelope ID to find these documents on DRS.</p>

<p class="govuk-body govuk-!-margin-bottom-5">Envelope ID: 1730476832300</p>
-->
<p class="govuk-body"><a href="{{versionPath}}/unallocated/unallocated-documents" class="govuk-link">Back to all unallocated documents</a></p>



</div>

<div class="govuk-grid-column-one-third">

{{ govukSelect({
  id: "allocate-document",
  name: "allocate-document",
  label: {
    html: '<h2 class="govuk-heading-m">Who do you want to allocate these to?</h2>'
  },
   hint: {
    text: "Leave blank to unallocate it"
  },
  items: [
   {
      value: "blank",
      text: "",
      selected: true
    },
    {
      value: "name-1",
      text: "John Doe"
    },
    {
      value: "name-2",
      text: "Susan Quantas"
    },
    {
      value: "name-3",
      text: "Savannah Eastwood"
    },
    {
      value: "name-4",
      text: "David Connolly"
    },
    {
      value: "name-5",
      text: "Sophia Wanless"
    }
  ]
}) }}

{{ govukButton({
  text: "Allocate all"
}) }}

{{ govukSelect({
  id: "update-status",
  name: "update-status",
  label: {
    html: '<h2 class="govuk-heading-m">Update status</h2>'
  },
  items: [
   {
      value: "blank",
      text: "",
      selected: true
    },
    {
      value: "not started",
      text: "Not started"
    },
    {
      value: "in progress",
      text: "In progress"
    },
    {
      value: "completed",
      text: "Completed"
    }
  ]
}) }}

<form action="end-date" method="post" novalidate>

{{ govukButton({
  text: "Update"
}) }}

</form>
     
  </div>
    
</div>
  </div>
{% endblock %}
